{% extends "base.html" %}
{% block title %}JsonForm{% endblock %}
{% block head %}<h1>JsonForm Page</h1>{% endblock %}
{% block body %}
<form>
    <label for="name">Name</label>
    <input type="text" name="name" id="name"/>

    <label for="email">Email</label>
    <input type="email" name="email" id="email"/>

    <p>
        <input type="checkbox" name="topics" id="javascript" value="javascript"/>
        <label for="javascript">JavaScript</label>

        <input type="checkbox" name="topics" id="html" value="html"/>
        <label for="html">HTML</label>

        <input type="checkbox" name="topics" id="css" value="css"/>
        <label for="css">CSS</label>
    </p>

    <button type="submit">Submit</button>
</form>

<script>
function handleSubmit(event) {
    event.preventDefault();

    const data = new FormData(event.target);
    const value = Object.fromEntries(data.entries());
    value.topics = data.getAll("topics");

    console.log({ value });
}

const form = document.querySelector("form");
form.addEventListener("submit", handleSubmit);
</script>

{% endblock %}